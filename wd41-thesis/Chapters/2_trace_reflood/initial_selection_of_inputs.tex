%******************************************************************************************
\section{Initial Selection of Input Parameters}\label{sec:reflood_initial_inputs_selection}
%******************************************************************************************

% Introductory paragraph
This section presents the selection process of the initial set of uncertain input parameters of the \gls[hyper=false]{feba} simulation in \gls[hyper=false]{trace}.
Afterward, the assignment of the initial (prior) uncertainties of these parameters are presented. 
This part is closely related to the author's participation in the \gls[hyper=false]{premium} benchmark thus several reference are made to activities related to that benchmark.

%---------------------------------------------------------------------------------
\subsection{Selection of Input Parameters}\label{sub:reflood_parameters_selection}
%---------------------------------------------------------------------------------

% Introductory paragraph
The selection process for the uncertain input parameters to consider differs depending on the type of parameter.
Each of the selected parameters can broadly fall in one of the two following categories:
\begin{itemize}
	\item Input parameters that are not specific to the \gls[hyper=false]{trace} code (e.g., initial and boundary conditions, material thermo-physical properties).
		This category of parameters is often referred to as the \emph{controllable inputs} of the simulation.
	\item Input parameters that are specific to \gls[hyper=false]{trace} code (e.g., implementation of the two-phase momentum and heat transfer package for reflood condition).
		This category is often referred to as the \emph{model parameters} of the simulation.
\end{itemize}

% Selection on the first category
The selection of parameters belonging to the controllable inputs category simply corresponds to the parameters recommended by the benchmark organizers and employed by most participants \cite{Kovtonyuk2015}.
The selected parameters are listed in Table~\ref{tab:trace_model_parameter_1}.

% Selection on the second category
On the other hand, the selection of the model parameters specific to the \gls[hyper=false]{trace} code is challenging due to the fact that \gls[hyper=false]{trace} is a relatively recent code (in comparison with the codes like RELAP5, ATHLET, or CATHARE).
In essence, the code has been developed from different variants of the TRAC codes for different reactor types (TRAC-BF1, TRAC-P) to result in a single consolidated code applicable to both \gls[hyper=false]{pwr} and \gls[hyper=false]{bwr}.
Contributing to that difficulty is the fact that \gls[hyper=false]{trace} is currently undergoing significant developments and improvements, including modifications to the two-phase closure models for momentum and heat transfers.
Consequently, the task of selecting the model parameters and later their prior uncertainties is more difficult than for a more established codes.

% Criteria for choosing the parameters
To overcome this issue, the following principles have been followed to select the model parameters:
\begin{enumerate}
	\item The selection has been focused to the physical models in the post-\glsentryshort{chf} package of the \gls[hyper=false]{trace} code (including the reflood models).
		Specifically, these are models for the \gls[hyper=false]{iafb} and \gls[hyper=false]{dffb} flow regimes \cite{USNRC2012}.
	\item Spacer grid model are also included as they are known to have a significant impact on reflooding \cite{Miller2013}.
	\item A parameter related to the minimum film boiling temperature should be selected, since it has (by model construction) an impact on the time of quenching.
\end{enumerate}

Additionally, a common principle, the selected models (and parameters) are to be perturbed by means of perturbation factors (detail below) at the highest-possible level of the structure of these models as coded.
The level allows, to some extent, for reference uncertainty information obtained from codes other than \gls[hyper=false]{trace} to be used.
Note that, as was exemplified in Section~\ref{sub:intro_statement_of_problem}, these perturbation factors become the proxy of the physical models (and parameters) they perturbed.

% Resulting List of Model Parameters 1
In accordance to the first selection principle above, a set of $10$ high-level parameters has been selected ($5$ for each flow regime).
Specifically, for each flow regime: the wall-fluid \gls[hyper=false]{htc}, the liquid-interface \gls[hyper=false]{htc}, the vapor-interface \gls[hyper=false]{htc}, the wall-fluid drag coefficient, and the interfacial drag coefficient.

% Resulting List of Model Parameters 2
Following the second principle, two additional parameters have been selected.
Namely, the spacer grid pressure loss coefficient model from Yao, Loftus, and Hochreiter as well as the grid convective \gls[hyper=false]{ht} enhancement model from Yao, Hochreiter, and Leech (see \cite{USNRC2012} pp. $425$--$429$ and \cite{Yao1982}).
These perturbation on the parameters are applied to all seven spacer grids at once.

% Resulting List of Model Parameters 3
Lastly, from the third principle, the quench temperature parameter in \gls[hyper=false]{trace} (see \cite{USNRC2012} pp. $293$--$299$) has been selected to the list of uncertain input parameters.

The complete list of the model parameters considered in the present study is given in Table~\ref{tab:trace_model_parameter_2}.
The total number of initial uncertain parameters considered is thus $27$.

%-----------------------------------------------------------------------------------
\subsection{Prior Uncertainty Quantification}\label{sub:reflood_parameters_prior_uq}
%-----------------------------------------------------------------------------------

% Opening paragraph

The nominal values of selected model parameters of the \gls[hyper=false]{trace} \gls[hyper=false]{feba} model are varied by their respective perturbation factors.
These perturbation factors are modeled as random variables following a predefined \gls[hyper=false]{pdf}, 
from which a set of samples of model parameters values can be generated.
The choice of the distribution is influenced by both the available information and the aim of the analysis.
As the aim of this particular step is to obtain preliminary (or \emph{prior}) uncertainty of the \gls[hyper=false]{trace} model prediction, 
uniform (or log-uniform) distributions with reasonable range of variation are deemed sufficient for the model parameters.
Hence, the \emph{prior uncertainty propagation} step constitutes of generating samples for each model parameter from its prior \gls[hyper=false]{pdf}, 
carrying out a set of \gls[hyper=false]{trace} simulations of the \gls[hyper=false]{feba} model using the sampled parameters, 
and analyzing the results to quantify the uncertainty of the model prediction.

For a given sampled perturbation factor, one of three modes of perturbation is possible: \emph{additive, multiplicative,} and \emph{substitutive}.
In the additive mode, the sampled perturbation factor is added to the nominal parameter value of the \gls[hyper=false]{trace} model.
In the multiplicative mode, the sampled perturbation factor is multiplied by the nominal parameter value.
Finally, in the substitutive mode, the sampled perturbation factor directly substitutes for the nominal parameter value.

A tool to assist the uncertainty propagation of model parameters in a \gls[hyper=false]{trace} model is developed in the Python programming language.
This tool, detailed in Appendix~\ref{app:trace_simexp}.

As show in Table~\ref{tab:trace_model_parameter_1} and Table~\ref{tab:trace_model_parameter_2}, the list of perturbation factors involves the perturbation of various model parameters related to:
\begin{enumerate}
	\item \gls[hyper=false]{th} boundary conditions
  \item material properties
\end{enumerate}
\begin{sidewaystable}

\caption{Selected \glsentryshort{trace} model parameter perturbation factors and their range of variations, continued in Table~\ref{tab:trace_model_parameter_2}}
\label{tab:trace_model_parameter_1}

\centering
\newcolumntype{Y}{>{\RaggedRight\arraybackslash}X}
%\begin{tabularx}{\textwidth}{@{}c|>{$}c<{$}|>{$}c<{$}|Y|Y|Y|Y|Y@{}}
\begin{tabularx}{0.985\textwidth}{@{}cccc>{$}c<{$}>{$}c<{$}c@{}}
\toprule
\tableheadline{No.} & \tableheadline{Parameter} & \tableheadline{Description} & \tableheadline{Distribution} & \tableheadline{Range of}  & \tableheadline{Nominal} & \tableheadline{Mode of} \\
                    & \tableheadline{ID}        &                             &                              & \tableheadline{Variation} & \tableheadline{Value}   & \tableheadline{Perturbation} \\
\midrule
1  & \texttt{break\_ptb}  	& Outlet pressure 								& Uniform 		& [0.90, 1.10]   & 1.0 					& Multiplicative \\ 
2  & \texttt{fill\_tltb}  	& Inlet water temperature $[K]$ 	& Uniform 		& [-5.00, +5.00] & 0.0 \, [K] 	& Additive \\ 
3  & \texttt{fill\_vmtbm}	 	& Inlet water velocity          	& Uniform 		& [0.90, 1.10]   & 1.0 					& Multiplicative \\ 
4  & \texttt{pwr\_rpwtbr} 	& Heater rod power             	 	& Uniform 		& [0.90, 1.05]   & 1.0 					& Multiplicative \\ 
\midrule
5  & \texttt{nic\_cond} 		& Conductivity (Nichrome) 						& Uniform & [0.95, 1.05] & 1.0 	& Multiplicative \\ 
6  & \texttt{nic\_cp} 			& Specific heat (Nichrome)	 					& Uniform & [0.95, 1.05] & 1.0 	& Multiplicative \\ 
7  & \texttt{nic\_emis} 		& Emissivity (Nichrome) 							& Uniform & [0.90, 1.00] & 0.95	& Substitutive \\ 
8  & \texttt{mgo\_cond} 		& Conductivity (MgO)									& Uniform & [0.80, 1.20] & 1.0 	& Multiplicative \\
9  & \texttt{mgo\_cp} 			& Specific heat (cp) 									& Uniform & [0.80, 1.20] & 1.0 	& Multiplicative \\ 
10 & \texttt{vessel\_epsw} 	& Wall roughness $[m]$					  		& Uniform & [6.10\times 10^{-7}, 2.44\times 10^{-6}] & 1.5 \times 10^{-6} \, [m] & Multiplicative \\ 
11 & \texttt{ss\_cond} 			& Conductivity (stainless steel)			& Uniform & [0.95, 1.05] & 1.0 	& Multiplicative \\ 
12 & \texttt{ss\_cp} 				& Specific heat (stainless steel)			& Uniform	& [0.95, 1.05] & 1.0 	& Multiplicative \\ 
13 & \texttt{ss\_emis} 			& Emissivity (stainless steel)				& Uniform & [0.56, 0.94] & 0.84 & Substitutive \\ 
\midrule
14 	& \texttt{kGridSV} 			& Spacer grid $\Delta p$ coefficient							& Uniform 		& [0.25, 1.75] & 1.0 & Multiplicative \\ 
15  & \texttt{gridHTEnh} 		& Spacer grid \gls[hyper=false]{htc} enhancement	& Log-Uniform & [0.90, 1.10] & 1.0 & Multiplicative \\ 
\bottomrule

\end{tabularx}
\end{sidewaystable}


\begin{sidewaystable}

\caption{Selected \glsentryshort{trace} model parameter perturbation factors and their range of variations, continued from Table~\ref{tab:trace_model_parameter_1}}
\label{tab:trace_model_parameter_2}

\centering
\newcolumntype{Y}{>{\RaggedRight\arraybackslash}X}
%\begin{tabularx}{\textwidth}{@{}c|>{$}c<{$}|>{$}c<{$}|Y|Y|Y|Y|Y@{}}
\begin{tabularx}{0.90\textwidth}{@{}cccc>{$}c<{$}>{$}c<{$}c@{}}
\toprule
\tableheadline{No.} & \tableheadline{Parameter} & \tableheadline{Description} & \tableheadline{Distribution} & \tableheadline{Range of}  & \tableheadline{Nominal} & \tableheadline{Mode of} \\
                    & \tableheadline{ID}        &                             &                              & \tableheadline{Variation} & \tableheadline{Value}   & \tableheadline{Perturbation} \\
\midrule
16  & \texttt{iafbWallHTC}  	& Wall \gls[hyper=false]{htc} (\glsentryshort{iafb})							& Log-Uniform 		& [0.50, 2.00]   	& 1.0 				& Multiplicative \\ 
17  & \texttt{dffbWallHTC}  	& Wall \gls[hyper=false]{htc} (\glsentryshort{dffb})  						& Log-Uniform 		& [0.50, 2.00] 	  & 0.0 				& Multiplicative \\ 
18  & \texttt{iafbLIHTC}	 		& Liquid-interface \gls[hyper=false]{htc} (\glsentryshort{iafb})  & Log-Uniform 		& [0.25, 4.00]   	& 1.0 				& Multiplicative \\ 
19  & \texttt{iafbVIHTC} 			& Vapor-interface \gls[hyper=false]{htc}  (\glsentryshort{iafb})  & Log-Uniform 		& [0.25, 4.00]   	& 1.0 				& Multiplicative \\ 
20  & \texttt{dffbLIHTC} 			& Liquid-interface \gls[hyper=false]{htc} (\glsentryshort{dffb}) 	& Log-Uniform 		& [0.25, 4.00] 	 	& 1.0 				& Multiplicative \\ 
21  & \texttt{dffbVIHTC} 			& Vapor-interface \gls[hyper=false]{htc} (\glsentryshort{dffb})	 	& Log-Uniform 		& [0.25, 4.00] 	 	& 1.0 				& Multiplicative \\ 
22  & \texttt{iafbIntDrag} 		& Interfacial drag (\glsentryshort{iafb}) 												& Log-Uniform 		& [0.25, 4.00] 	 	& 1.0 				& Multiplicative \\ 
23  & \texttt{dffbIntDrag} 		& Interfacial drag (\glsentryshort{dffb})													& Log-Uniform 		& [0.25, 4.00]		& 1.0 				& Multiplicative \\
24  & \texttt{iafbWallDrag} 	& Wall drag (\glsentryshort{iafb}) 																& Log-Uniform 		& [0.50, 2.00] 		& 1.0 				& Multiplicative \\ 
25	& \texttt{dffbWallDrag} 	& Wall drag (\glsentryshort{dffb})			  												& Log-Uniform 		& [0.50, 2.00] 		& 1.0 				& Multiplicative \\ 
26 	& \texttt{tempQuench} 		& Quenching temperature $[K]$																			& Uniform 				& [-50.0, +50.0] 	& 0.0 \, [K]	& Additive \\ 
27 	& \texttt{transHTCWallSV}	& Wall \gls[hyper=false]{htc} (Transition boiling)								& Log-uniform			& [0.25, 4.00] 		& 1.0 				& Multiplicative \\ 
\bottomrule

\end{tabularx}
\end{sidewaystable}
